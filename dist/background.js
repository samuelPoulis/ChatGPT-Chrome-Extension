(()=>{"use strict";console.log("Background script running");let e=!1;chrome.runtime.onMessage.addListener(((t,n,o)=>(console.log("Message received in background:",t),"contentScriptReady"===t.action?(e=!0,console.log("Content script is ready"),o({received:!0})):"isContentScriptReady"===t.action&&(console.log("Checking if content script is ready:",e),o({ready:e})),!0))),chrome.tabs.onUpdated.addListener(((t,n,o)=>{"complete"===n.status&&o.url&&/^http/.test(o.url)&&(console.log(`Tab ${t} updated. Resetting contentScriptReady.`),e=!1)}))})();